[{"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\App.js":"1","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Payment.js":"2","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Checkout.js":"3","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\CheckoutProduct.js":"4","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\index.js":"5","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\firebase.js":"6","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Login.js":"7","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Home.js":"8","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\axios.js":"9","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\reducer.js":"10","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Orders.js":"11","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Subtotal.js":"12","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Order.js":"13","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Header.js":"14","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Product.js":"15"},{"size":1752,"mtime":1608802644922,"results":"16","hashOfConfig":"17"},{"size":5466,"mtime":1608999708050,"results":"18","hashOfConfig":"17"},{"size":1369,"mtime":1607679629562,"results":"19","hashOfConfig":"17"},{"size":1191,"mtime":1609000431750,"results":"20","hashOfConfig":"17"},{"size":406,"mtime":1606397915806,"results":"21","hashOfConfig":"17"},{"size":642,"mtime":1606668623841,"results":"22","hashOfConfig":"17"},{"size":2104,"mtime":1606671463614,"results":"23","hashOfConfig":"17"},{"size":2489,"mtime":1607679747782,"results":"24","hashOfConfig":"17"},{"size":182,"mtime":1607677316386,"results":"25","hashOfConfig":"17"},{"size":1297,"mtime":1607705338536,"results":"26","hashOfConfig":"17"},{"size":1036,"mtime":1608822916255,"results":"27","hashOfConfig":"17"},{"size":1234,"mtime":1606934849350,"results":"28","hashOfConfig":"17"},{"size":1244,"mtime":1609000662655,"results":"29","hashOfConfig":"17"},{"size":2209,"mtime":1609001330387,"results":"30","hashOfConfig":"17"},{"size":1246,"mtime":1606673037765,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"11v8wig",{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"37"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"47"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\App.js",["68","69"],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Payment.js",["70"],"import React, { useEffect, useState } from 'react';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport \"./Payment.css\";\r\nimport axios from \"./axios\";\r\nimport { useStateValue } from './StateProvider';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal } from './reducer';\r\nimport {db} from \"./firebase\";\r\n\r\nfunction Payment() {\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n    const history = useHistory();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    \r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [processing, setProcessing] = useState(\"\");\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n\r\n    useEffect(() =>{\r\n        //generate the stripe user secret\r\n        const getClientSecret = async () =>{\r\n            const response = await axios({\r\n                method : 'post',\r\n                url : `/payments/create?total= ${getBasketTotal(basket)*100}`\r\n            })\r\n            setClientSecret(response.data.clientSecret);\r\n        }\r\n        getClientSecret();\r\n    },[basket]);\r\n    console.log('The Client Secret : ', clientSecret)\r\n    \r\n    const handleSubmit=async (event) =>{\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n        const payload= await stripe.confirmCardPayment(clientSecret,{\r\n            payment_method : {\r\n                card : elements.getElement(CardElement)\r\n            }\r\n        }).then(({ paymentIntent })=>{\r\n            // confirmation\r\n            \r\n\r\n            db.collection('users').doc(user?.id).collection('orders').doc(paymentIntent.id).set({\r\n                basket : basket,\r\n                amount : paymentIntent.amount,\r\n                created : paymentIntent.created\r\n            });\r\n\r\n            setSucceeded(true);\r\n            setError(null);\r\n            setProcessing(true);\r\n\r\n            dispatch({\r\n                type : 'EMPTY_BASKET'\r\n            })\r\n\r\n            history.replace('/orders');\r\n        })\r\n    }\r\n\r\n    const handleChange = event =>{\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className=\"payment\">\r\n            <div className=\"payment_container\">\r\n                <h1>\r\n                    Checkout(<Link to=\"/checkout\">{basket?.length} items</Link>)\r\n                </h1>\r\n                {/* Payment Section- dilevery address*/}\r\n                <div className=\"payment_section\">\r\n                  <div className=\"payment_title\">\r\n                      <h3>Dilevery Address</h3>\r\n                  </div>\r\n                  <div className=\"payment_address\">\r\n                      <p>{user?.email}</p>\r\n                      <p>Nagrota</p>\r\n                      <p>Jammu</p>\r\n                  </div>\r\n                </div>\r\n                {/* Payment Section - reviewing items */}\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3> Review items and dilevery </h3>\r\n                    </div>\r\n                    <div className=\"payment_items\">\r\n                      {basket.map(item =>(\r\n                          <CheckoutProduct \r\n                              id={item.id}\r\n                              title={item.title}\r\n                              image={item.image}\r\n                              price={item.price}\r\n                              rating={item.rating}\r\n                          />\r\n                      ))}\r\n                    </div>\r\n                    </div>\r\n                {/* Payment Section - payment method */}\r\n                <div className=\"payment_section\">\r\n                    <div className=\"payment_title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment_details\">\r\n                        {/* Stripe Magic*/ }\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n                            <div className=\"payment_priceContainer\">\r\n                              <CurrencyFormat \r\n                                  renderText={(value)=>(\r\n                                      <>\r\n                                         <h3>Order Total: {value}</h3> \r\n                                      </>\r\n                                  )}\r\n                                  decimalScale={2}\r\n                                  value={getBasketTotal(basket)}\r\n                                  displayType={\"text\"}\r\n                                  thousandSeperator={true}\r\n                                  prefix={\"Rs.\"}\r\n                              />\r\n                              <button disabled={processing || disabled || succeeded}>\r\n                                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                              </button>\r\n                            </div>\r\n                            {error &&<div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment;\r\n",["71","72"],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Checkout.js",["73"],"import React from 'react';\r\nimport \"./Checkout.css\";\r\nimport { useStateValue } from './StateProvider';\r\nimport Subtotal from \"./Subtotal\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\n\r\nfunction Checkout() {\r\n    const [{basket, user},dispatch] = useStateValue();\r\n    return (\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout_left\">\r\n                <img className=\"checkout_ad\" src=\"https://images-eu.ssl-images-amazon.com/images/G/31/img20/Camera/AmzSpl/1500x200_dslrs_cameras_point__shoot_DSLRS_and_mirrorless_cameras.jpg\" alt=\"adimage\" />\r\n                <div>\r\n                <h3>{user?.email}</h3>\r\n                <h2 className=\"checkout_title\">Your Shopping Basket</h2>\r\n                {basket.map(item =>(\r\n                    \r\n                    <CheckoutProduct \r\n                        key={item.id}\r\n                        id={item.id}\r\n                        title={item.title}\r\n                        image={item.image}\r\n                        price={item.price}\r\n                        rating={item.rating}\r\n                    />\r\n                \r\n                   \r\n                ))}\r\n                \r\n            </div>\r\n            </div>\r\n            \r\n            <div className=\"checkout_right\">\r\n            <Subtotal />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout;\r\n","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\CheckoutProduct.js",["74"],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\index.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\firebase.js",[],["75","76"],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Login.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Home.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\axios.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\reducer.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Orders.js",["77","78"],"import React, { useState, useEffect } from 'react';\r\nimport { db } from \"./firebase\";\r\nimport './Orders.css'\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from './Order'\r\n\r\nfunction Orders() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user) {\r\n        db\r\n        .collection('users')\r\n        .doc(user?.uid)\r\n        .collection('orders')\r\n        .orderBy('created', 'desc')\r\n        .onSnapshot(snapshot => (\r\n            setOrders(snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                data: doc.data()\r\n            })))\r\n        ))\r\n    } else {\r\n        setOrders([]);\r\n    }\r\n\r\n  }, [user]);\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className='orders_order'>\r\n                {orders?.map(order => (\r\n                    <Order order={order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders;","C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Subtotal.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Order.js",[],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Header.js",["79"],"C:\\Users\\hi\\Desktop\\Amazon-Clone\\amazon-clone\\src\\Product.js",["80"],"import React from 'react';\r\nimport \"./Product.css\"\r\nimport { useStateValue } from './StateProvider';\r\nfunction Product({id, title, price, image, rating}) {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n   \r\n    const addToBasket=() =>{\r\n        //dispatching an item to data layer\r\n        dispatch({\r\n            type : 'ADD_TO_BASKET',\r\n            item :{\r\n                id :id,\r\n                title: title,\r\n                image: image,\r\n                price : price,\r\n                rating : rating\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product_info\">\r\n                <p>{title}</p>\r\n                <p className=\"product_price\">\r\n                    <small> Rs.</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"product_rating\">\r\n                      {Array(rating).fill().map((_, i)=>(\r\n                        <p>⭐</p>\r\n                      ))}\r\n                        \r\n                    </div>\r\n            </div>\r\n            <img src={image} alt=\"product\"/>\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;\r\n",{"ruleId":"81","severity":1,"message":"82","line":19,"column":10,"nodeType":"83","messageId":"84","endLine":19,"endColumn":12},{"ruleId":"85","severity":1,"message":"86","line":39,"column":6,"nodeType":"87","endLine":39,"endColumn":8,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":40,"column":15,"nodeType":"91","messageId":"92","endLine":40,"endColumn":22},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"89","severity":1,"message":"97","line":8,"column":27,"nodeType":"91","messageId":"92","endLine":8,"endColumn":35},{"ruleId":"89","severity":1,"message":"98","line":5,"column":13,"nodeType":"91","messageId":"92","endLine":5,"endColumn":19},{"ruleId":"93","replacedBy":"99"},{"ruleId":"95","replacedBy":"100"},{"ruleId":"89","severity":1,"message":"98","line":8,"column":12,"nodeType":"91","messageId":"92","endLine":8,"endColumn":18},{"ruleId":"89","severity":1,"message":"97","line":8,"column":28,"nodeType":"91","messageId":"92","endLine":8,"endColumn":36},{"ruleId":"89","severity":1,"message":"97","line":9,"column":25,"nodeType":"91","messageId":"92","endLine":9,"endColumn":33},{"ruleId":"89","severity":1,"message":"98","line":6,"column":13,"nodeType":"91","messageId":"92","endLine":6,"endColumn":19},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["101"],"no-unused-vars","'payload' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["102"],"no-negated-in-lhs",["103"],"'dispatch' is assigned a value but never used.","'basket' is assigned a value but never used.",["102"],["103"],{"desc":"104","fix":"105"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"106","text":"107"},[1149,1151],"[dispatch]"]